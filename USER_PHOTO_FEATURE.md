# 用户照片保存功能说明

## ✨ 新功能介绍

现在你可以将全身照保存到本地，下次使用时无需重复上传！

## 🎯 功能特性

### 1. **自动保存提示**
- 首次上传照片时，系统会提示是否保存
- 保存后下次自动加载，无需重复上传

### 2. **多照片管理**
- 可以保存多张照片
- 设置默认照片（自动加载）
- 查看所有已保存的照片

### 3. **完全本地存储**
- 所有照片存储在浏览器本地（IndexedDB）
- 不会上传到服务器
- 保护您的隐私安全

### 4. **便捷操作**
- 点击已保存的照片直接加载
- 一键设置默认照片
- 随时删除不需要的照片

---

## 📖 使用教程

### 第一次使用

1. **上传全身照**
   - 进入"虚拟试穿"页面
   - 点击"上传全身照"
   - 选择你的照片

2. **保存照片**
   - 上传后，系统会弹出提示框
   - 点击"保存并设为默认"
   - 照片已保存到本地 ✅

3. **下次使用**
   - 再次进入"虚拟试穿"页面
   - 照片会自动加载，无需重复上传！

---

### 管理已保存的照片

#### 查看我的照片
- 点击右上角"我的照片"按钮
- 查看所有已保存的照片

#### 切换使用照片
- 点击任意照片即可加载使用
- 当前使用的照片会有"当前使用"标记

#### 设置默认照片
- 鼠标悬停在照片上
- 点击"设为默认"按钮
- 下次自动加载此照片

#### 删除照片
- 鼠标悬停在照片上
- 点击"删除"按钮
- 确认删除

---

## 💡 使用建议

### 照片拍摄技巧
1. **正面站立**：面向镜头，双手自然下垂
2. **全身入镜**：从头到脚完整拍摄
3. **单一背景**：选择纯色背景或简单场景
4. **光线充足**：避免逆光或阴影
5. **比例协调**：手机竖屏拍摄，保持距离适中

### 多照片策略
建议保存多种场景的照片：
- **正面全身照**（默认）：用于大部分试穿
- **侧面照**：查看衣物侧面效果
- **不同姿势**：展示不同穿搭风格

---

## 🔧 技术说明

### 数据存储
- **位置**：浏览器本地 IndexedDB 数据库
- **容量**：支持存储多张照片（每张约 1-2MB 压缩后）
- **安全**：完全离线，数据不上传

### 数据管理
- **导出**：可在"设置"页面导出所有数据（包括照片）
- **导入**：更换设备时，可导入之前的备份
- **清空**：可在"设置"页面清空所有数据

### 兼容性
- ✅ Chrome/Edge 浏览器
- ✅ Firefox 浏览器
- ✅ Safari 浏览器
- ✅ 支持手机浏览器

---

## ❓ 常见问题

### Q1: 照片会上传到服务器吗？
**A:** 不会！所有照片都存储在您的浏览器本地，完全离线。

### Q2: 更换浏览器或设备后照片还在吗？
**A:** 照片存储在浏览器本地，更换设备后需要重新上传。但你可以通过"设置" → "导出数据"导出备份，然后在新设备导入。

### Q3: 可以保存多少张照片？
**A:** 理论上无限制，但建议保存 3-5 张常用照片即可。

### Q4: 如何删除所有照片？
**A:** 
- 方法1：在"我的照片"中逐个删除
- 方法2：在"设置" → "数据管理" → "清空所有数据"（会清空所有内容）

### Q5: 照片丢失了怎么办？
**A:** 如果清除了浏览器缓存，照片可能会丢失。建议定期在"设置"页面导出备份。

### Q6: 照片会占用很多空间吗？
**A:** 不会。系统会自动压缩照片，通常每张 1-2MB。

---

## 🎉 使用流程总结

```
第一次使用：
上传照片 → 保存到本地 → 完成 ✅

第二次使用：
打开页面 → 自动加载照片 → 直接试穿 🎯

管理照片：
点击"我的照片" → 查看/切换/删除 → 轻松管理 📸
```

---

## 🔄 与备份功能集成

用户照片会自动包含在系统备份中：

### 自动备份
- 每 24 小时自动备份到 localStorage
- 包含所有衣物、搭配和照片

### 手动备份
- "设置" → "数据管理" → "立即备份到文件"
- 下载 JSON 文件，妥善保存

### 恢复数据
- "设置" → "数据管理" → "导入数据"
- 选择之前导出的 JSON 文件
- 恢复所有内容（包括照片）

---

## 🚀 开始使用

现在就试试新功能吧！

1. 打开 http://localhost:3000/virtual-tryon
2. 上传你的全身照
3. 保存到本地
4. 享受便捷的虚拟试穿体验！

**祝你使用愉快！** 🎊

